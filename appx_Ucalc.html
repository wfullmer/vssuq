<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Appendix: flowrate calculation &mdash; vssuq 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="End Matter" href="endmatter.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> vssuq
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="probdescription.html">Problem Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="particleprops.html">Particle Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurements.html">Measurements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="endmatter.html">End Matter</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="endmatter.html#nomenclature">Nomenclature</a></li>
<li class="toctree-l2"><a class="reference internal" href="endmatter.html#acronyms">Acronyms</a></li>
<li class="toctree-l2"><a class="reference internal" href="endmatter.html#references">References</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="endmatter.html#appendices">Appendices</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Appendix: flowrate calculation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="endmatter.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l2"><a class="reference internal" href="endmatter.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">vssuq</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="endmatter.html">End Matter</a> &raquo;</li>
      <li>Appendix: flowrate calculation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/appx_Ucalc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="appendix-flowrate-calculation">
<span id="sec-appxucalc"></span><h1>Appendix: flowrate calculation<a class="headerlink" href="#appendix-flowrate-calculation" title="Permalink to this headline">ÔÉÅ</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 20%" />
<col style="width: 27%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(Q_{obs}\)</span> (SCFM)</p></td>
<td><p><span class="math notranslate nohighlight">\(P_{bck}\)</span> (psig)</p></td>
<td><p><span class="math notranslate nohighlight">\(U\)</span> (m/s)</p></td>
<td><p><span class="math notranslate nohighlight">\(\delta U\)</span> (m/s)</p></td>
</tr>
<tr class="row-even"><td><p>3.6</p></td>
<td><p>12.5</p></td>
<td><p>1.830272</p></td>
<td><p>0.096431</p></td>
</tr>
<tr class="row-odd"><td><p>3.8</p></td>
<td><p>14.0</p></td>
<td><p>1.989867</p></td>
<td><p>0.104839</p></td>
</tr>
<tr class="row-even"><td><p>4.0</p></td>
<td><p>15.0</p></td>
<td><p>2.134271</p></td>
<td><p>0.112448</p></td>
</tr>
</tbody>
</table>
<p>The gas flow rate is set to one of the three conditions listed in the table
above. The flow rate is measured, in standard cubic feet per minute (SCFM),
and the back pressure is set with a pressure gage. Both the rotameter and the
pressure gage are reported to have an accuracy of 2%. In the rotameter, the
flow rate is measured by a float which balances the force of gravity,
<span class="math notranslate nohighlight">\(F_G = \rho_F g V_F\)</span>, with buoyancy, <span class="math notranslate nohighlight">\(F_B = \rho_g g V_F\)</span>,
and drag, <span class="math notranslate nohighlight">\(F_D = \frac{1}{2}C_D \rho_g v_g^2 A_F\)</span>, where <span class="math notranslate nohighlight">\(V_F\)</span>,
<span class="math notranslate nohighlight">\(A_F\)</span> and <span class="math notranslate nohighlight">\(\rho_F\)</span> are the volume, (projected) cross-sectional
area, and density of the float, <span class="math notranslate nohighlight">\(\rho_g\)</span> and <span class="math notranslate nohighlight">\(v_g\)</span> are the
density and velocity of the gas, <span class="math notranslate nohighlight">\(C_D\)</span> is the drag coefficient, and
<span class="math notranslate nohighlight">\(g\)</span> is the gravity magnitude. Equating and solving for <span class="math notranslate nohighlight">\(v_g\)</span>
gives</p>
<div class="math notranslate nohighlight">
\[v_g = \sqrt{\frac{2 (\rho_F - \rho_g) g V_F}{C_D \rho_g A_F}}\]</div>
<p>The flat properties are constant and we assume that drag coefficient is
relatively constant and, because the working fluid is a gas,
<span class="math notranslate nohighlight">\(\rho_F - \rho_g \approx \rho_F\)</span>. Therefore,</p>
<div class="math notranslate nohighlight">
\[v_g \propto \rho_g^{-1/2}\]</div>
<p>Using the ideal gas law,</p>
<div class="math notranslate nohighlight">
\[P_g = \rho_g R_{air} T_g\]</div>
<p>the proportionality becomes</p>
<div class="math notranslate nohighlight">
\[v_g \propto \sqrt{T_g / P_g}\]</div>
<p>Then, we can write an approximate expression relating two flow states,</p>
<div class="math notranslate nohighlight">
\[\frac{v_{std}}{v_{obs}} = \frac{\sqrt{T_{std} / P_{std}}}{\sqrt{T_{obs} / P_{obs}}}\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[Q_{std} = Q_{obs} \sqrt{\frac{P_{obs}}{P_{std}}\frac{T_{std}}{T_{obs}}}\]</div>
<p>where <span class="math notranslate nohighlight">\(Q_g = v_g A = v_g L_x L_y\)</span>.
Here, we want to convert the <em>observed</em> flow rate, i.e., as seen on the
flow meter, and to the <em>standard</em> flow rate, i.e., the conditions at which
the flow meter was calibrated. For this King Instruments Company model
<a class="reference external" href="https://kinginstrumentco.com/7520-7530-series-acrylic-tube-flowmeter">7530 5C-05</a>
rotameter, the standard conditions are <span class="math notranslate nohighlight">\(P_{std} = 14.7\)</span> (psi) and
<span class="math notranslate nohighlight">\(T_{std} = 70\)</span> (F). The observed pressure is the back pressure,
<span class="math notranslate nohighlight">\(P_{obs} = P_{bck}\)</span>, set with the regulator at 2% accuracy and
provided in the table above. The observed temperature is largely unknown.
Here, we approximate the back temperature as the lab temperature,
<span class="math notranslate nohighlight">\(T_{obs} = T_{bck} = 20\)</span> (C) and given a large uncertainty of
<span class="math notranslate nohighlight">\(\delta T_{bck} = 10\)</span> (C).</p>
<p>To convert from the standard conditions of the flow meter to the actual
<em>laboratory</em> conditions, we again apply the ideal gas assumption with the
conservation of mass,</p>
<div class="math notranslate nohighlight">
\[{\dot m}_{std} = {\dot m}_{lab}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[{\dot m} = \rho_g Q_g = \frac{P_g}{R_{air}T_g} Q_g\]</div>
<p>We can rearrange the above expressions to get,</p>
<div class="math notranslate nohighlight">
\[Q_{lab} = Q_{std} \frac{P_{std}}{P_{lab}} \frac{T_{lab}}{T_{std}}\]</div>
<p>The laboratory conditions are taken as <span class="math notranslate nohighlight">\(P_{lab} = 12.15\)</span> (psia) and
<span class="math notranslate nohighlight">\(T_{lab} = 20\)</span> (C) with uncertainties of
<span class="math notranslate nohighlight">\(\delta P_{lab} = 0.5\)</span> (psia) and <span class="math notranslate nohighlight">\(\delta T_{lab} = 5\)</span> (C).</p>
<p>Finally, combining the expression for <span class="math notranslate nohighlight">\(Q_{lab}\)</span> and <span class="math notranslate nohighlight">\(Q_{std}\)</span>,
we can write</p>
<div class="math notranslate nohighlight">
\[Q_{lab} = Q_{obs} \sqrt{\frac{P_{bck}}{P_{std}}\frac{T_{std}}{T_{bck}}} \frac{P_{std}}{P_{lab}} \frac{T_{lab}}{T_{std}}\]</div>
<p>To simplify the uncertainty propagation, we write the above expression for
the superficial velocity, <span class="math notranslate nohighlight">\(U = Q / A\)</span>, and combine like terms giving</p>
<div class="math notranslate nohighlight">
\[U = Q_{obs} L_x^{-1} L_y^{-1} P_{bck}^{1/2} P_{std}^{1/2} P_{lab}^{-1} T_{lab} T_{bck}^{-1/2} T_{std}^{-1/2}\]</div>
<p>By neglecting any correlation between the variables, we can approximate the
uncertainty in <span class="math notranslate nohighlight">\(U\)</span> using the variance formula</p>
<div class="math notranslate nohighlight">
\[\delta U = \sqrt{\sum_i{ \left(\frac{\partial U}{\partial x_i}\right)^2 \left(\frac{\delta x_i}{x_i}\right)^2 } }\]</div>
<p>where <span class="math notranslate nohighlight">\(x_i = Q_{obs}\)</span>, <span class="math notranslate nohighlight">\(L_x\)</span>, <span class="math notranslate nohighlight">\(L_z\)</span>,
<span class="math notranslate nohighlight">\(P_{bck}\)</span>, <span class="math notranslate nohighlight">\(P_{std}\)</span>, <span class="math notranslate nohighlight">\(P_{lab}\)</span>,
<span class="math notranslate nohighlight">\(T_{bck}\)</span>, <span class="math notranslate nohighlight">\(T_{std}\)</span>, and <span class="math notranslate nohighlight">\(T_{lab}\)</span>. We note that the
the standard conditions are defined by the calibration, i.e., there is no
uncertainty in these variables. By differentiating the expression for
<span class="math notranslate nohighlight">\(U\)</span> for the remaining variables and simplifying we get,</p>
<div class="math notranslate nohighlight">
\[\delta U = U \sqrt{ \epsilon Q_{obs}^2
+ \left(\frac{\delta L_x}{L_x}\right)^2
+ \left(\frac{\delta L_z}{L_z}\right)^2
+ \frac{1}{4} \epsilon P_{bck}^2
+ \left(\frac{\delta P_{lab}}{P_{lab}}\right)^2
+ \frac{1}{4} \left(\frac{\delta T_{bck}}{T_{bck}}\right)^2
+ \left(\frac{\delta T_{lab}}{T_{lab}}\right)^2
}\]</div>
<p>where <span class="math notranslate nohighlight">\(\epsilon x_i = \delta x_i / x_i\)</span> for the uncertainties given as
relative errors. The superficial velocity and uncertainty is calculated for
each condition with this simple
<a class="reference download internal" download="" href="_downloads/638eb82d14ee2cf60aa45e9381ed0b1e/calc_dU.m"><code class="xref download docutils literal notranslate"><span class="pre">octave</span> <span class="pre">script</span></code></a>.
We note that, when rounded to three sig. figs., the third condition differs
slightly from the value of <span class="math notranslate nohighlight">\(U = 2.14\)</span> reported in
<a class="reference external" href="https://doi.org/10.1002/aic.17643">LaMarche, et al. (2022)</a>.
This difference is due to the very minor difference between the lab
temperature and the standard temperature, which was neglected in the published
values.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="endmatter.html" class="btn btn-neutral float-left" title="End Matter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, wdf.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>